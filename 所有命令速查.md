# ğŸš€ æ‰€æœ‰å‘½ä»¤é€ŸæŸ¥è¡¨

## å¯åŠ¨æœåŠ¡

```bash
# Webç®¡ç†ç•Œé¢ï¼ˆç«¯å£ 7901ï¼‰
./start_manager.sh

# å®æ—¶æ£€æµ‹æœåŠ¡ï¼ˆç«¯å£ 7902ï¼‰
./start_algorithm_service.sh

# ç»Šçº¿ç»Ÿè®¡æœåŠ¡ï¼ˆç«¯å£ 7903ï¼‰
./start_line_crossing_service.sh

# å¸¦GPUé…ç½®å¯åŠ¨
./start_algorithm_service.sh --gpu-id 0 --port 7902
./start_line_crossing_service.sh --gpu-id 1 --port 7903
```

---

## åœæ­¢æœåŠ¡

```bash
# åœæ­¢æ‰€æœ‰æœåŠ¡ï¼ˆæ¨èï¼‰
./åœæ­¢æ‰€æœ‰æœåŠ¡.sh

# å•ç‹¬åœæ­¢
pkill -f algorithm_service.py
pkill -f algorithm_service_line_crossing.py
pkill -f algorithm_manager.py
```

---

## æ—¥å¿—ç®¡ç†

```bash
# å®æ—¶æŸ¥çœ‹æ—¥å¿—
./manage_logs.sh view realtime      # å®æ—¶æ£€æµ‹
./manage_logs.sh view line          # ç»Šçº¿ç»Ÿè®¡
./manage_logs.sh view manager       # ç®¡ç†å™¨
./manage_logs.sh view all           # å…¨éƒ¨

# æŸ¥çœ‹æœ€åNè¡Œ
./manage_logs.sh tail realtime 200
./manage_logs.sh tail line 500

# æ—¥å¿—ç»Ÿè®¡
./manage_logs.sh stats

# æœç´¢æ—¥å¿—
./manage_logs.sh search "ERROR"
./manage_logs.sh search "ç©¿è¶Š"

# æ¸…ç©ºæ—¥å¿—
./manage_logs.sh clear realtime
./manage_logs.sh clear all

# å¤‡ä»½æ—¥å¿—
./manage_logs.sh backup
```

---

## æœåŠ¡æ£€æŸ¥

```bash
# æ£€æŸ¥æœåŠ¡çŠ¶æ€
curl http://localhost:7901          # Webç®¡ç†ç•Œé¢
curl http://localhost:7902/health   # å®æ—¶æ£€æµ‹
curl http://localhost:7903/health   # ç»Šçº¿ç»Ÿè®¡

# æŸ¥çœ‹æœåŠ¡è¿›ç¨‹
ps aux | grep algorithm_service

# æŸ¥çœ‹ç«¯å£å ç”¨
netstat -tulpn | grep 790
lsof -i:7901
lsof -i:7902
lsof -i:7903
```

---

## GPUç›‘æ§

```bash
# æŸ¥çœ‹GPUçŠ¶æ€
nvidia-smi

# å®æ—¶ç›‘æ§
watch -n 1 nvidia-smi

# æŸ¥çœ‹æ˜¾å­˜ä½¿ç”¨
nvidia-smi --query-gpu=memory.used,memory.total --format=csv
```

---

## é…ç½®æ–‡ä»¶

```bash
# æŸ¥çœ‹é…ç½®æ–‡ä»¶
ls -l /cv_space/predict/configs/

# æŸ¥çœ‹é…ç½®å†…å®¹
cat /cv_space/predict/configs/å•æ‰€ç»Ÿè®¡_algo_config.json

# ç¼–è¾‘é…ç½®
vi /cv_space/predict/configs/æµ‹è¯•ç»Ÿè®¡_algo_config.json
```

---

## æµ‹è¯•æ¥å£

```bash
# æµ‹è¯•å®æ—¶æ£€æµ‹æœåŠ¡
curl -X POST http://localhost:7902/infer \
  -H "Content-Type: application/json" \
  -d '{
    "image_url": "http://your-server/image.jpg",
    "task_id": "æµ‹è¯•",
    "task_type": "äººæ•°ç»Ÿè®¡"
  }'

# æµ‹è¯•ç»Šçº¿ç»Ÿè®¡æœåŠ¡
curl -X POST http://localhost:7903/infer \
  -H "Content-Type: application/json" \
  -d '{
    "image_url": "http://your-server/image.jpg",
    "task_id": "é—¨ç¦",
    "task_type": "ç»Šçº¿äººæ•°ç»Ÿè®¡"
  }'
```

---

## æ–‡æ¡£æŸ¥çœ‹

```bash
# æŸ¥çœ‹å¿«é€Ÿå¼€å§‹
cat å¿«é€Ÿå¼€å§‹.md

# æŸ¥çœ‹ç«¯å£é…ç½®
cat ç«¯å£é€ŸæŸ¥.txt

# æŸ¥çœ‹æ‰€æœ‰æ–‡æ¡£
ls -l *.md
```

---

## å¸¸ç”¨ç»„åˆ

### å®Œæ•´å¯åŠ¨æµç¨‹

```bash
# 1. å¯åŠ¨Webç®¡ç†ç•Œé¢
./start_manager.sh &

# 2. ç­‰å¾…3ç§’
sleep 3

# 3. è®¿é—®ç•Œé¢å¯åŠ¨ç®—æ³•æœåŠ¡
# http://localhost:7901
```

### é‡å¯æœåŠ¡

```bash
# åœæ­¢æ‰€æœ‰
./åœæ­¢æ‰€æœ‰æœåŠ¡.sh

# ç­‰å¾…
sleep 2

# é‡æ–°å¯åŠ¨
./start_algorithm_service.sh --gpu-id 0 &
./start_line_crossing_service.sh --gpu-id 1 &
```

### æŸ¥çœ‹æœåŠ¡çŠ¶æ€

```bash
# ä¸€æ¬¡æ€§æŸ¥çœ‹æ‰€æœ‰ä¿¡æ¯
echo "=== è¿›ç¨‹çŠ¶æ€ ==="
ps aux | grep algorithm_service

echo ""
echo "=== ç«¯å£çŠ¶æ€ ==="
netstat -tulpn | grep 790

echo ""
echo "=== GPUçŠ¶æ€ ==="
nvidia-smi

echo ""
echo "=== æ—¥å¿—ç»Ÿè®¡ ==="
./manage_logs.sh stats
```

---

## å¿«æ·åˆ«åï¼ˆå¯é€‰ï¼‰

åœ¨ `~/.bashrc` ä¸­æ·»åŠ ï¼š

```bash
# ç®—æ³•æœåŠ¡ç®¡ç†åˆ«å
alias algo-ui='cd /cv_space/predict && ./start_manager.sh'
alias algo-start='cd /cv_space/predict && ./start_algorithm_service.sh'
alias algo-line='cd /cv_space/predict && ./start_line_crossing_service.sh'
alias algo-stop='cd /cv_space/predict && ./åœæ­¢æ‰€æœ‰æœåŠ¡.sh'
alias algo-logs='cd /cv_space/predict && ./manage_logs.sh'
alias algo-status='curl http://localhost:7902/health && curl http://localhost:7903/health'
```

ä½¿ç”¨ï¼š
```bash
algo-ui         # å¯åŠ¨ç®¡ç†ç•Œé¢
algo-start      # å¯åŠ¨å®æ—¶æ£€æµ‹
algo-line       # å¯åŠ¨ç»Šçº¿ç»Ÿè®¡
algo-stop       # åœæ­¢æ‰€æœ‰æœåŠ¡
algo-logs view  # æŸ¥çœ‹æ—¥å¿—
algo-status     # æ£€æŸ¥æœåŠ¡çŠ¶æ€
```

---

Happy managing! ğŸ‰

