# ç«¯å£é…ç½®è¯´æ˜

## ğŸ“‹ ç«¯å£åˆ†é…

æ‰€æœ‰æœåŠ¡çš„ç«¯å£å·²ç»Ÿä¸€è§„åˆ’ï¼š

| æœåŠ¡ | ç«¯å£ | è¯´æ˜ |
|------|------|------|
| **Webç®¡ç†ç•Œé¢** | **7901** | ç®—æ³•æœåŠ¡ç®¡ç†å™¨ï¼ˆæ¨èä½¿ç”¨ï¼‰ |
| **å®æ—¶æ£€æµ‹æœåŠ¡** | **7902** | äººæ•°ç»Ÿè®¡ã€å®¢æµåˆ†æã€äººå¤´æ£€æµ‹ |
| **ç»Šçº¿ç»Ÿè®¡æœåŠ¡** | **7903** | ç»Šçº¿äººæ•°ç»Ÿè®¡ |

---

## ğŸš€ å¿«é€Ÿå¯åŠ¨

### å¯åŠ¨Webç®¡ç†ç•Œé¢
```bash
./scripts/start_manager.sh
# è®¿é—®: http://localhost:7901
```

### å¯åŠ¨å®æ—¶æ£€æµ‹æœåŠ¡
```bash
./scripts/start_algorithm_service.sh
# æœåŠ¡ç«¯å£: 7902
```

### å¯åŠ¨ç»Šçº¿ç»Ÿè®¡æœåŠ¡
```bash
./scripts/start_line_crossing_service.sh
# æœåŠ¡ç«¯å£: 7903
```

---

## ğŸ”§ è‡ªå®šä¹‰ç«¯å£

### é€šè¿‡å‘½ä»¤è¡Œå‚æ•°ä¿®æ”¹

```bash
# å®æ—¶æ£€æµ‹æœåŠ¡ä½¿ç”¨ç«¯å£9000
./scripts/start_algorithm_service.sh --port 9000

# ç»Šçº¿ç»Ÿè®¡æœåŠ¡ä½¿ç”¨ç«¯å£9001
./scripts/start_line_crossing_service.sh --port 9001
```

### é€šè¿‡Webç•Œé¢ä¿®æ”¹

1. è®¿é—® http://localhost:8901
2. åœ¨æœåŠ¡å¡ç‰‡ä¸­ä¿®æ”¹"ç«¯å£"è¾“å…¥æ¡†
3. ç‚¹å‡»"â–¶ï¸ å¯åŠ¨æœåŠ¡"

---

## âš ï¸ æ³¨æ„äº‹é¡¹

### ç«¯å£å†²çªæ£€æµ‹
```bash
# æ£€æŸ¥ç«¯å£æ˜¯å¦è¢«å ç”¨
netstat -tulpn | grep 7901
netstat -tulpn | grep 7902
netstat -tulpn | grep 7903

# æˆ–ä½¿ç”¨ lsof
lsof -i:7901
lsof -i:7902
lsof -i:7903
```

### é˜²ç«å¢™é…ç½®
```bash
# Ubuntu/Debian
sudo ufw allow 7901/tcp  # Webç®¡ç†ç•Œé¢
sudo ufw allow 7902/tcp  # å®æ—¶æ£€æµ‹æœåŠ¡
sudo ufw allow 7903/tcp  # ç»Šçº¿ç»Ÿè®¡æœåŠ¡

# CentOS/RHEL
sudo firewall-cmd --permanent --add-port=7901/tcp
sudo firewall-cmd --permanent --add-port=7902/tcp
sudo firewall-cmd --permanent --add-port=7903/tcp
sudo firewall-cmd --reload
```

---

## ğŸŒ è®¿é—®åœ°å€

### Webç®¡ç†ç•Œé¢
- æœ¬åœ°è®¿é—®: http://localhost:7901
- å±€åŸŸç½‘è®¿é—®: http://<æœåŠ¡å™¨IP>:7901

### å®æ—¶æ£€æµ‹æœåŠ¡
- APIç«¯ç‚¹: http://localhost:7902/infer
- å¥åº·æ£€æŸ¥: http://localhost:7902/health
- æœåŠ¡ä¿¡æ¯: http://localhost:7902/

### ç»Šçº¿ç»Ÿè®¡æœåŠ¡
- APIç«¯ç‚¹: http://localhost:7903/infer
- å¥åº·æ£€æŸ¥: http://localhost:7903/health
- æœåŠ¡ä¿¡æ¯: http://localhost:7903/

---

## ğŸ“Š å®Œæ•´é…ç½®ç¤ºä¾‹

```bash
# æ–¹æ¡ˆ1ï¼šä½¿ç”¨é»˜è®¤ç«¯å£
./scripts/start_manager.sh                    # 7901
./scripts/start_algorithm_service.sh          # 7902
./scripts/start_line_crossing_service.sh      # 7903

# æ–¹æ¡ˆ2ï¼šè‡ªå®šä¹‰ç«¯å£
./scripts/start_algorithm_service.sh --port 9000
./scripts/start_line_crossing_service.sh --port 9001
# Webç•Œé¢ä»ä½¿ç”¨8901

# æ–¹æ¡ˆ3ï¼šå®Œå…¨è‡ªå®šä¹‰
./scripts/start_algorithm_service.sh --port 9000 --gpu-id 0
./scripts/start_line_crossing_service.sh --port 9001 --gpu-id 1
```

---

## ğŸ¯ ç«¯å£è§„åˆ’ç†ç”±

| ç«¯å£ | æœåŠ¡ | ç†ç”± |
|------|------|------|
| 7901 | Webç®¡ç†ç•Œé¢ | ç®¡ç†å…¥å£ï¼Œä¾¿äºè®°å¿† |
| 7902 | å®æ—¶æ£€æµ‹æœåŠ¡ | å¸¸ç”¨æœåŠ¡ï¼Œç´§éšç®¡ç†ç•Œé¢ |
| 7903 | ç»Šçº¿ç»Ÿè®¡æœåŠ¡ | ä¸“ç”¨åŠŸèƒ½ï¼Œç‹¬ç«‹ç«¯å£ |

ç«¯å£è¿ç»­åˆ†é…ï¼Œä¾¿äºç®¡ç†å’Œé˜²ç«å¢™é…ç½®ã€‚

---

## ğŸ” éªŒè¯ç«¯å£é…ç½®

### æ£€æŸ¥æœåŠ¡æ˜¯å¦å¯åŠ¨
```bash
# æ£€æŸ¥æ‰€æœ‰æœåŠ¡
curl http://localhost:7901  # Webç®¡ç†ç•Œé¢
curl http://localhost:7902/health  # å®æ—¶æ£€æµ‹æœåŠ¡
curl http://localhost:7903/health  # ç»Šçº¿ç»Ÿè®¡æœåŠ¡
```

### æŸ¥çœ‹ç›‘å¬ç«¯å£
```bash
# æŸ¥çœ‹æ‰€æœ‰ç›‘å¬çš„7900ç³»åˆ—ç«¯å£
netstat -tulpn | grep 790
```

---

Happy managing! ğŸ‰

